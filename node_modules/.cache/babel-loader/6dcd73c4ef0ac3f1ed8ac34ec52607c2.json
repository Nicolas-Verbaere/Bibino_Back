{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nono\\\\Desktop\\\\oclock\\\\blob\\\\apotheose\\\\test1\\\\src\\\\components\\\\Main\\\\Authentification\\\\Connection\\\\Connection.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport '../Form.scss';\nimport FormInput from '../FormInput';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Connexion = _ref => {\n  _s();\n\n  let {\n    isLogged,\n    setIsLogged\n  } = _ref;\n  // const [isLogged, setIsLogged] = useState(false);\n  const [values, setValues] = useState({\n    email: '',\n    password: ''\n  });\n\n  function connection() {\n    axios.post('https://bibinov1.herokuapp.com/login', {\n      email: values.email,\n      password: values.password\n    }).then(function (response) {\n      //  console.log(`consolelog de response axios, ${response.data.token}`);\n      localStorage.setItem('userLoggedToken', `${response.data.token}`);\n      setIsLogged(true);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  const inputsConnection = [{\n    id: 2,\n    name: 'email',\n    type: 'email',\n    placeholder: 'Email',\n    errorMessage: 'Adresse mail invalide',\n    label: 'Email',\n    required: true\n  }, {\n    id: 4,\n    name: 'password',\n    type: 'password',\n    placeholder: 'Mot de Passe',\n    errorMessage: 'Le mot de passe doit contenir au minimum 8 caractères, un caractère spécial, une lettre majuscule, une lettre minuscule et un nombre.',\n    label: 'Mot de Passe',\n    // pattern: `^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$`,\n    required: true\n  }];\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    connection();\n  };\n\n  const onChange = e => {\n    setValues({ ...values,\n      [e.target.name]: e.target.value\n    }); // console.log(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"connection\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"formAuth\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Connexion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), inputsConnection.map(input => /*#__PURE__*/_jsxDEV(FormInput, { ...input,\n        value: values[input.name],\n        onChange: onChange\n      }, input.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Identifiez-vous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), isLogged && /*#__PURE__*/_jsxDEV(Navigate, {\n      to: '/profil'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Connexion, \"4ZX67KWLu2sBrc2aknv9PyebYH4=\");\n\n_c = Connexion;\nexport default _c2 = /*#__PURE__*/React.memo(Connexion);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Connexion\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","Navigate","useState","FormInput","axios","Connexion","isLogged","setIsLogged","values","setValues","email","password","connection","post","then","response","localStorage","setItem","data","token","catch","error","console","log","inputsConnection","id","name","type","placeholder","errorMessage","label","required","handleSubmit","e","preventDefault","onChange","target","value","map","input","memo"],"sources":["C:/Users/Nono/Desktop/oclock/blob/apotheose/test1/src/components/Main/Authentification/Connection/Connection.js"],"sourcesContent":["import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nimport { useState } from 'react';\r\nimport '../Form.scss';\r\nimport FormInput from '../FormInput';\r\n\r\nimport axios from 'axios';\r\n\r\nconst Connexion = ({ isLogged, setIsLogged }) => {\r\n    // const [isLogged, setIsLogged] = useState(false);\r\n    const [values, setValues] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    function connection() {\r\n        axios\r\n            .post('https://bibinov1.herokuapp.com/login', {\r\n                email: values.email,\r\n                password: values.password\r\n            })\r\n            .then(function (response) {\r\n                //  console.log(`consolelog de response axios, ${response.data.token}`);\r\n                localStorage.setItem(\r\n                    'userLoggedToken',\r\n                    `${response.data.token}`\r\n                );\r\n                setIsLogged(true);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const inputsConnection = [\r\n        {\r\n            id: 2,\r\n            name: 'email',\r\n            type: 'email',\r\n            placeholder: 'Email',\r\n            errorMessage: 'Adresse mail invalide',\r\n            label: 'Email',\r\n            required: true\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'password',\r\n            type: 'password',\r\n            placeholder: 'Mot de Passe',\r\n            errorMessage:\r\n                'Le mot de passe doit contenir au minimum 8 caractères, un caractère spécial, une lettre majuscule, une lettre minuscule et un nombre.',\r\n            label: 'Mot de Passe',\r\n            // pattern: `^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$`,\r\n            required: true\r\n        }\r\n    ];\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        connection();\r\n    };\r\n\r\n    const onChange = (e) => {\r\n        setValues({ ...values, [e.target.name]: e.target.value });\r\n        // console.log(e.target.value);\r\n    };\r\n\r\n    return (\r\n        <section className='connection'>\r\n\r\n            <form className='formAuth' onSubmit={handleSubmit}>\r\n\r\n                <h1>Connexion</h1>\r\n                {inputsConnection.map((input) => (\r\n                    <FormInput\r\n                        key={input.id}\r\n                        {...input}\r\n                        value={values[input.name]}\r\n                        onChange={onChange}\r\n                    />\r\n                ))}\r\n\r\n                <button type='submit'>Identifiez-vous</button>\r\n                {/* <button>Mot de passe oublié?</button> */}\r\n            </form>\r\n            {isLogged && <Navigate to={'/profil'} />}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default React.memo(Connexion);\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAO,cAAP;AACA,OAAOC,SAAP,MAAsB,cAAtB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,SAAS,GAAG,QAA+B;EAAA;;EAAA,IAA9B;IAAEC,QAAF;IAAYC;EAAZ,CAA8B;EAC7C;EACA,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC;IACjCQ,KAAK,EAAE,EAD0B;IAEjCC,QAAQ,EAAE;EAFuB,CAAD,CAApC;;EAKA,SAASC,UAAT,GAAsB;IAClBR,KAAK,CACAS,IADL,CACU,sCADV,EACkD;MAC1CH,KAAK,EAAEF,MAAM,CAACE,KAD4B;MAE1CC,QAAQ,EAAEH,MAAM,CAACG;IAFyB,CADlD,EAKKG,IALL,CAKU,UAAUC,QAAV,EAAoB;MACtB;MACAC,YAAY,CAACC,OAAb,CACI,iBADJ,EAEK,GAAEF,QAAQ,CAACG,IAAT,CAAcC,KAAM,EAF3B;MAIAZ,WAAW,CAAC,IAAD,CAAX;IACH,CAZL,EAaKa,KAbL,CAaW,UAAUC,KAAV,EAAiB;MACpBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACH,CAfL;EAgBH;;EAED,MAAMG,gBAAgB,GAAG,CACrB;IACIC,EAAE,EAAE,CADR;IAEIC,IAAI,EAAE,OAFV;IAGIC,IAAI,EAAE,OAHV;IAIIC,WAAW,EAAE,OAJjB;IAKIC,YAAY,EAAE,uBALlB;IAMIC,KAAK,EAAE,OANX;IAOIC,QAAQ,EAAE;EAPd,CADqB,EAUrB;IACIN,EAAE,EAAE,CADR;IAEIC,IAAI,EAAE,UAFV;IAGIC,IAAI,EAAE,UAHV;IAIIC,WAAW,EAAE,cAJjB;IAKIC,YAAY,EACR,uIANR;IAOIC,KAAK,EAAE,cAPX;IAQI;IACAC,QAAQ,EAAE;EATd,CAVqB,CAAzB;;EAsBA,MAAMC,YAAY,GAAIC,CAAD,IAAO;IACxBA,CAAC,CAACC,cAAF;IACAtB,UAAU;EACb,CAHD;;EAKA,MAAMuB,QAAQ,GAAIF,CAAD,IAAO;IACpBxB,SAAS,CAAC,EAAE,GAAGD,MAAL;MAAa,CAACyB,CAAC,CAACG,MAAF,CAASV,IAAV,GAAiBO,CAAC,CAACG,MAAF,CAASC;IAAvC,CAAD,CAAT,CADoB,CAEpB;EACH,CAHD;;EAKA,oBACI;IAAS,SAAS,EAAC,YAAnB;IAAA,wBAEI;MAAM,SAAS,EAAC,UAAhB;MAA2B,QAAQ,EAAEL,YAArC;MAAA,wBAEI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,EAGKR,gBAAgB,CAACc,GAAjB,CAAsBC,KAAD,iBAClB,QAAC,SAAD,OAEQA,KAFR;QAGI,KAAK,EAAE/B,MAAM,CAAC+B,KAAK,CAACb,IAAP,CAHjB;QAII,QAAQ,EAAES;MAJd,GACSI,KAAK,CAACd,EADf;QAAA;QAAA;QAAA;MAAA,QADH,CAHL,eAYI;QAAQ,IAAI,EAAC,QAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAZJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ,EAiBKnB,QAAQ,iBAAI,QAAC,QAAD;MAAU,EAAE,EAAE;IAAd;MAAA;MAAA;MAAA;IAAA,QAjBjB;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAqBH,CA/ED;;GAAMD,S;;KAAAA,S;AAiFN,kCAAeL,KAAK,CAACwC,IAAN,CAAWnC,SAAX,CAAf"},"metadata":{},"sourceType":"module"}