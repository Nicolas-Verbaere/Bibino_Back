{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nono\\\\Desktop\\\\oclock\\\\blob\\\\apotheose\\\\test1\\\\src\\\\components\\\\Main\\\\Contact\\\\SuggestionBHistoire\\\\SuggestionBHistoire.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './SuggestionBHistoire.scss';\nimport '../Contact.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SuggestionBHistoire = _ref => {\n  _s();\n\n  let {\n    user,\n    bieres\n  } = _ref;\n  const [beer_id, setBeerId] = useState([]);\n  const [values, setValues] = useState({\n    title: '',\n    // Titre de l'article\n    content: '',\n    // contenue\n    beer_id: bieres.id,\n    user_account_id: user.id // id utilisateur (cf token)\n\n  });\n  const userToken = localStorage.getItem('userLoggedToken'); // console.log('bieres.id', bieres.id);\n\n  function getBeerId() {\n    axios.get(`https://bibinov1.herokuapp.com/beer`, {}).then(function (response) {\n      setBeerId(response.data); // console.log('response.data', response.data);\n    }).catch(function (error) {\n      console.log(error);\n    }).then(function () {});\n  }\n\n  function postHistory() {\n    axios({\n      method: 'POST',\n      url: 'https://bibinov1.herokuapp.com/article',\n      data: {\n        title: values.title,\n        content: values.content,\n        beer_id: values.beer_id,\n        user_account_id: values.user_account_id\n      },\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `JWT ${userToken}`\n      }\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  function clearForm() {\n    document.getElementById('3').value = '';\n  }\n\n  const handleSubmit = e => {\n    postHistory();\n    e.preventDefault();\n    setValues({ ...values,\n      title: '',\n      content: ''\n    });\n    clearForm();\n  };\n\n  const onChange = e => {\n    setValues({ ...values,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  useEffect(() => {\n    getBeerId();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"suggestionBHistoire_form\",\n    onSubmit: handleSubmit,\n    onChange: onChange,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"suggestionBHistoire_form-title\",\n      children: \"Ajouter l'histoire d'une bi\\xE8re\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"suggestionBHistoire_form-subtitle\",\n      children: \"Raconte-moi une histoire ?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"suggestionBHistoire_form-p\",\n      children: \"Vous avez une histoire sur une bi\\xE8re a nous raconter? Merci de nous la suggerer en replissant le formulaire ci-dessous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"suggestionBHistoire_form-subtitle\",\n      children: \"Vote histoire:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"suggestionBHistoire_form-label\",\n      for: \"title\",\n      children: \"Titre de votre histoire:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"suggestionBHistoire_form-input\",\n      type: \"text\",\n      name: \"title\",\n      id: \"1\",\n      placeholder: \"Titre de votre article:\",\n      option: \"\",\n      required: true,\n      value: values.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"suggestionBHistoire_form-label\",\n      for: \"name\",\n      children: \"Nom de la bi\\xE8re (facultatif):\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"suggestionBHistoire_form-input\",\n      list: \"name\",\n      id: \"3\",\n      name: \"beer_id\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n      id: \"name\",\n      children: beer_id.map(el => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: el.name,\n        children: el.name\n      }, el.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"suggestionBHistoire_form-label\",\n      for: \"content\",\n      children: \"Contenu de votre histoire:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"suggestionBHistoire_form-textarea\",\n      type: \"text\",\n      name: \"content\",\n      id: \"8\",\n      placeholder: \"Veuillez saisir votre histoire\",\n      option: \"\",\n      required: true,\n      maxLength: \"500\",\n      rows: \"10\",\n      cols: \"70\",\n      value: values.content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form_user_id\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label_input\",\n        for: \"name\",\n        children: \"Nom utilisateur:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \" user_account_id\",\n        id: \"9\",\n        placeholder: \"Nom\",\n        required: true,\n        value: user.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"suggestionBHistoire_form-btn\",\n      children: \"Envoyer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 13\n  }, this);\n};\n\n_s(SuggestionBHistoire, \"UXW6CpWk9tgVHd+U5NqpcAAw38E=\");\n\n_c = SuggestionBHistoire;\nexport default _c2 = /*#__PURE__*/React.memo(SuggestionBHistoire);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SuggestionBHistoire\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useState","useEffect","axios","SuggestionBHistoire","user","bieres","beer_id","setBeerId","values","setValues","title","content","id","user_account_id","userToken","localStorage","getItem","getBeerId","get","then","response","data","catch","error","console","log","postHistory","method","url","headers","Authorization","clearForm","document","getElementById","value","handleSubmit","e","preventDefault","onChange","target","name","map","el","memo"],"sources":["C:/Users/Nono/Desktop/oclock/blob/apotheose/test1/src/components/Main/Contact/SuggestionBHistoire/SuggestionBHistoire.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './SuggestionBHistoire.scss';\r\nimport '../Contact.scss';\r\n\r\nconst SuggestionBHistoire = ({ user, bieres }) => {\r\n    const [beer_id, setBeerId] = useState([]);\r\n    const [values, setValues] = useState({\r\n        title: '', // Titre de l'article\r\n        content: '', // contenue\r\n        beer_id: bieres.id,\r\n        user_account_id: user.id // id utilisateur (cf token)\r\n    });\r\n\r\n    const userToken = localStorage.getItem('userLoggedToken');\r\n    // console.log('bieres.id', bieres.id);\r\n    function getBeerId() {\r\n        axios\r\n            .get(`https://bibinov1.herokuapp.com/beer`, {})\r\n            .then(function (response) {\r\n                setBeerId(response.data);\r\n                // console.log('response.data', response.data);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            })\r\n            .then(function () {});\r\n    }\r\n    function postHistory() {\r\n        axios({\r\n            method: 'POST',\r\n            url: 'https://bibinov1.herokuapp.com/article',\r\n            data: {\r\n                title: values.title,\r\n                content: values.content,\r\n                beer_id: values.beer_id,\r\n                user_account_id: values.user_account_id\r\n            },\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `JWT ${userToken}`\r\n            }\r\n        })\r\n            .then(function (response) {\r\n                console.log(response);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    function clearForm() {\r\n        document.getElementById('3').value = '';\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        postHistory();\r\n        e.preventDefault();\r\n        setValues({ ...values, title: '', content: '' });\r\n        clearForm();\r\n    };\r\n    const onChange = (e) => {\r\n        setValues({ ...values, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    useEffect(() => {\r\n        getBeerId();\r\n    }, []);\r\n\r\n    return (\r\n            <form\r\n                className='suggestionBHistoire_form'\r\n                onSubmit={handleSubmit}\r\n                onChange={onChange}>\r\n                <h1 className='suggestionBHistoire_form-title'>Ajouter l'histoire d'une bière</h1>\r\n                <h2 className='suggestionBHistoire_form-subtitle'>Raconte-moi une histoire ?</h2>\r\n                <p className='suggestionBHistoire_form-p'>\r\n                    Vous avez une histoire sur une bière a nous raconter? Merci\r\n                    de nous la suggerer en replissant le formulaire ci-dessous\r\n                </p>\r\n                <h3 className='suggestionBHistoire_form-subtitle'>Vote histoire:</h3>\r\n                <label className='suggestionBHistoire_form-label' for='title'>\r\n                    Titre de votre histoire:\r\n                </label>\r\n                <input\r\n                    className='suggestionBHistoire_form-input'\r\n                    type='text'\r\n                    name='title'\r\n                    id='1'\r\n                    placeholder='Titre de votre article:'\r\n                    option=''\r\n                    required\r\n                    value={values.title}\r\n                />\r\n\r\n                <label className='suggestionBHistoire_form-label' for='name'>\r\n                    Nom de la bière (facultatif):\r\n                </label>\r\n                <input className='suggestionBHistoire_form-input' list='name' id='3' name='beer_id' />\r\n                <datalist id='name'>\r\n                    {beer_id.map((el) => (\r\n                        <option key={el.id} value={el.name}>\r\n                            {el.name}\r\n                        </option>\r\n                    ))}\r\n                </datalist>\r\n\r\n                <label className='suggestionBHistoire_form-label' for='content'>\r\n                    Contenu de votre histoire:\r\n                </label>\r\n                <textarea\r\n                    className='suggestionBHistoire_form-textarea'\r\n                    type='text'\r\n                    name='content'\r\n                    id='8'\r\n                    placeholder='Veuillez saisir votre histoire'\r\n                    option=''\r\n                    required\r\n                    maxLength='500'\r\n                    rows='10'\r\n                    cols='70'\r\n                    value={values.content}\r\n                />\r\n\r\n                <div className='form_user_id'>\r\n                    <label className='label_input' for='name'>\r\n                        Nom utilisateur:\r\n                    </label>\r\n                    <input\r\n                        type='number'\r\n                        name=' user_account_id'\r\n                        id='9'\r\n                        placeholder='Nom'\r\n                        required\r\n                        value={user.id}\r\n                    />\r\n                </div>\r\n\r\n                <button className='suggestionBHistoire_form-btn'>Envoyer</button>\r\n            </form>\r\n    );\r\n};\r\n\r\nexport default React.memo(SuggestionBHistoire);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}